<div class="heroes-container">
  <div class="heroes-header">
    <h1 class="heroes-title">Heroji Podveležja</h1>
    <div class="about__divider"></div>
  </div>
  
  <!-- Heroes Description Section -->
  <div class="heroes-description">
    <div class="description-content">
      <h2 class="description-title">Naši heroji kroz historiju</h2>
      <p class="description-text">
        Na ovoj stranici predstavljamo heroje koji su svojim životom, djelom i žrtvom označili najslavnije stranice historije našeg naroda.
        Ovo su ljudi koji su se borili za slobodu, pravdu i dostojanstvo, ostavivši neizbrisiv trag u kolektivnoj memoriji naše zajednice.
      </p>
      <p class="description-text">
        Kroz različite mjesece njihove pogibije, bit će prikazane njihove slike sa datumima rođenja i datumima pogibije.
        Njihovo naslijeđe nas podsjeća na važnost očuvanja vrijednosti za koje su se žrtvovali i inspirišu nas da budemo dostojan nastavak njihove borbe.
      </p>
      <p class="description-note">
        <em>Napomena: Objavljene fotografije preuzete su iz nadolazeće knjige Mustafe ef. Jelovca - "Svjedoci Veležistana".</em>
      </p>
    </div>
  </div>

  <!-- Filter & Controls Section -->
  <div class="filter-section">
    <div class="controls-container">
      <!-- Month Filter -->
      <div class="control-group filter-group">
        <div class="control-label">
          <span>Filtriranje po mjesecu:</span>
        </div>
        <div class="filter-dropdown">
          <button class="filter-button" (click)="toggleFilter()">
            <span class="filter-text">{{ selectedMonth || 'Svi mjeseci' }}</span>
            <span class="dropdown-arrow" [class.open]="isFilterOpen">▼</span>
          </button>
          <div class="dropdown-menu" [class.show]="isFilterOpen">
            <div class="dropdown-item"
                 [class.selected]="selectedMonth === null"
                 (click)="clearFilter()">
              <span>Svi mjeseci</span>
              <span class="check-icon" *ngIf="selectedMonth === null">✓</span>
            </div>
            <div class="dropdown-divider"></div>
            <div *ngFor="let month of availableMonths"
                 class="dropdown-item"
                 [class.selected]="selectedMonth === month"
                 (click)="selectMonth(month)">
              <span>{{ month }}</span>
              <span class="check-icon" *ngIf="selectedMonth === month">✓</span>
            </div>
          </div>
        </div>
        <button *ngIf="selectedMonth"
                class="clear-filter-button"
                (click)="clearFilter()"
                title="Obriši filter">
          ✕
        </button>
      </div>

      <!-- Divider -->
      <div class="controls-divider"></div>

      <!-- Auto-slide Toggle -->
      <div class="control-group toggle-group" (click)="toggleAutoSlide()">
        <div class="control-label">
          <span>Automatsko klizanje:</span>
        </div>
        <div class="toggle-switch">
          <input type="checkbox" [checked]="isAutoSlideEnabled" readonly>
          <span class="slider"></span>
        </div>
        <span class="toggle-status" [class.active]="isAutoSlideEnabled">
          {{ isAutoSlideEnabled ? 'Uključeno' : 'Isključeno' }}
        </span>
      </div>
    </div>
  </div>

  <div class="months-grid">
    <div *ngFor="let month of getFilteredMonths()" class="month-section">
      <h2 class="month-title">{{ month }}</h2>
      <div class="hero-carousel" *ngIf="getHeroesForMonth(month).length > 0">
        <div class="carousel-wrapper" [class.mobile]="isMobile">
          <!-- Mobile: Single card display -->
          <div *ngIf="isMobile" class="mobile-carousel">
            <div class="mobile-hero-card">
              <div class="hero-image">
                <img [src]="getCurrentHero(month).imageUrl" [alt]="getCurrentHero(month).name">
              </div>
              <div class="hero-info">
                <h3>{{ getCurrentHero(month).name }}</h3>
                <p>{{ getCurrentHero(month).description }}</p>
              </div>
              <div *ngIf="isAutoSlideEnabled" class="circular-timer">
                <svg viewBox="0 0 36 36">
                  <path class="circle-bg"
                    d="M18 2.0845
                    a 15.9155 15.9155 0 0 1 0 31.831
                    a 15.9155 15.9155 0 0 1 0 -31.831"
                  />
                  <path class="circle"
                    [attr.stroke-dasharray]="getCircleProgress(month) + ', 100'"
                    d="M18 2.0845
                    a 15.9155 15.9155 0 0 1 0 31.831
                    a 15.9155 15.9155 0 0 1 0 -31.831"
                  />
                  <text x="18" y="20.35" class="timer-text">{{ getRemainingSeconds(month) }}</text>
                </svg>
              </div>
            </div>
          </div>

          <!-- Desktop: Three card display -->
          <div *ngIf="!isMobile" class="desktop-carousel">
            <div class="hero-group">
              <div *ngFor="let hero of getCurrentGroup(month); let i = index" 
                   class="hero-card" 
                   [class.middle-card]="i === 1">
                <div class="hero-image">
                  <img [src]="hero.imageUrl" [alt]="hero.name">
                </div>
                <div class="hero-info">
                  <h3>{{ hero.name }}</h3>
                  <p>{{ hero.description }}</p>
                </div>
                <div *ngIf="i === 1 && isAutoSlideEnabled" class="circular-timer">
                  <svg viewBox="0 0 36 36">
                    <path class="circle-bg"
                      d="M18 2.0845
                      a 15.9155 15.9155 0 0 1 0 31.831
                      a 15.9155 15.9155 0 0 1 0 -31.831"
                    />
                    <path class="circle"
                      [attr.stroke-dasharray]="getCircleProgress(month) + ', 100'"
                      d="M18 2.0845
                      a 15.9155 15.9155 0 0 1 0 31.831
                      a 15.9155 15.9155 0 0 1 0 -31.831"
                    />
                    <text x="18" y="20.35" class="timer-text">{{ getRemainingSeconds(month) }}</text>
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Carousel controls -->
        <div class="carousel-controls" *ngIf="getHeroesForMonth(month).length > 1">
          <button class="control-btn prev" (click)="prevSlide(month)">
            <span class="arrow">←</span>
          </button>
          <div class="carousel-indicators">
            <span *ngFor="let hero of getHeroesForMonth(month); let idx = index"
                  class="indicator"
                  [class.active]="idx === getCurrentSlideIndex(month)"
                  (click)="goToSlide(month, idx)">
            </span>
          </div>
          <button class="control-btn next" (click)="nextSlide(month)">
            <span class="arrow">→</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Quranic Quote Section -->
  <div class="quranic-quote-section">
    <div class="quote-container">
      <div class="quote-content">
        <div class="quote-text bosnian">
          "I ne recite za one koji su na Allahovom putu poginuli: 'Mrtvi su!' Ne, oni su živi, ali vi to ne znate."
        </div>
        <div class="quote-text arabic">
          وَلَا تَقُولُوا لِمَنْ يُقْتَلُ فِي سَبِيلِ اللَّهِ أَمْوَاتٌ ۚ بَلْ أَحْيَاءٌ وَلَٰكِنْ لَا تَشْعُرُونَ
        </div>
        <div class="quote-reference">
          El-Bekare 2:154
        </div>
      </div>
    </div>
  </div>
</div> 